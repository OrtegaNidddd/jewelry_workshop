@startuml EstadosPedido
title Diagrama de Estados - Pedido

[*] --> Registrado : pedido creado
Registrado --> EnDiseno : asesor asigna
EnDiseno --> AjusteDiseno : cliente pide ajustes
AjusteDiseno --> EnDiseno : nueva version
EnDiseno --> DisenoAprobado : cliente aprueba diseno
DisenoAprobado --> Cotizado : cotizacion generada
Cotizado --> AjusteCotizacion : cliente pide ajustes
AjusteCotizacion --> Cotizado : reenviar cotizacion
Cotizado --> CotizacionAprobada : cliente aprueba cotizacion
CotizacionAprobada --> EnFabricacion : maestro asignado
EnFabricacion --> Calidad : pieza terminada
Calidad --> EnFabricacion : requiere correcciones
Calidad --> Entregado : control aprobado
Entregado --> Cerrado : pago recibido
Cerrado --> [*]

Registrado --> Cancelado : cliente cancela
CotizacionAprobada --> Cancelado : cancelacion excepcional
Cancelado --> [*]

@enduml
