@startuml Despliegue
title Despliegue - Infraestructura propuesta

skinparam node {
  BackgroundColor WhiteSmoke
}

node "Usuario (navegador)" as Browser
node "CDN" as CDN
node "Balanceador" as LB
node "Servidor de Aplicaciones" as App {
  artifact "Frontend SPA" as Front
  artifact "API Backend" as Api
  artifact "Servicio Notificaciones" as Noti
}

node "Servidor de Procesos" as Worker {
  artifact "Servicio Produccion" as Prod
  artifact "Servicio Disenos" as Dis
}

node "Servidor de BD" as DBHost {
  database "MySQL\nBase de datos" as MySQL
}

node "Bucket de archivos" as Bucket
cloud "Servicio de correo" as Mail

Browser --> CDN
CDN --> LB
LB --> Front
Front --> Api
Api --> MySQL
Prod --> MySQL
Dis --> MySQL
Api --> Bucket
Dis --> Bucket
Noti --> Mail

Front ..> Bucket : sirve imagenes
Api ..> Noti : eventos internos
Prod ..> Noti : pieza lista

@enduml
